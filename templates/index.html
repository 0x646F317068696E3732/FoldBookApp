{% extends "layout.html" %}

{% block title %}BookFold Art - Генератор паттернов для складывания книг{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero" id="hero">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <h2 class="hero-title">Превратите обычную книгу в <span class="accent gradient-text">произведение искусства</span></h2>
                <p class="hero-subtitle">Создавайте объемные текстовые скульптуры из книжных страниц с помощью точных инструкций и математических алгоритмов</p>
                <div class="hero-buttons">
                    <a href="#generator" class="btn btn-primary">
                        <i class="fas fa-magic"></i>
                        Начать создание
                    </a>
                    <a href="#gallery" class="btn btn-secondary">
                        <i class="fas fa-images"></i>
                        Готовые шаблоны
                    </a>
                </div>
            </div>
            <div class="hero-visual">
                <div class="book-folding-demo">
                    <svg class="folding-demo-svg" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                        <!-- Левая страница с сгибами углов -->
                        <g class="page-left">
                            <!-- Основа страницы -->
                            <rect x="20" y="50" width="150" height="200" fill="#ffffff" stroke="#e0e0e0" stroke-width="2" rx="5"/>
                            <text x="25" y="45" font-family="Arial" font-size="12" fill="#666">Страница 124</text>
                            
                            <!-- Сгибы углов для буквы B -->
                            <g class="corner-folds-left">
                                <!-- Верхний сгиб -->
                                <polygon points="35,65 70,65 67,80 38,80" fill="#9333ea" opacity="0.7"/>
                                <text x="40" y="60" font-family="Arial" font-size="10" fill="#9333ea" font-weight="bold">15мм</text>
                                
                                <!-- Средний сгиб -->
                                <polygon points="35,120 65,120 62,135 38,135" fill="#9333ea" opacity="0.7"/>
                                <text x="40" y="115" font-family="Arial" font-size="10" fill="#9333ea" font-weight="bold">12мм</text>
                                
                                <!-- Нижний сгиб -->
                                <polygon points="35,180 70,180 67,195 38,195" fill="#9333ea" opacity="0.7"/>
                                <text x="40" y="175" font-family="Arial" font-size="10" fill="#9333ea" font-weight="bold">18мм</text>
                            </g>
                            
                            <!-- Указатели направления сгибов -->
                            <defs>
                                <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#9333ea" opacity="0.8"/>
                                </marker>
                            </defs>
                            
                            <line x1="15" y1="72" x2="35" y2="72" stroke="#9333ea" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8"/>
                            <line x1="15" y1="127" x2="35" y2="127" stroke="#9333ea" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8"/>
                        </g>
                        
                        <!-- Правая страница с сгибами углов -->
                        <g class="page-right">
                            <!-- Основа страницы -->
                            <rect x="230" y="50" width="150" height="200" fill="#ffffff" stroke="#e0e0e0" stroke-width="2" rx="5"/>
                            <text x="235" y="45" font-family="Arial" font-size="12" fill="#666">Страница 126</text>
                            
                            <!-- Сгибы углов для буквы O -->
                            <g class="corner-folds-right">
                                <!-- Верхний сгиб -->
                                <polygon points="245,80 275,80 272,95 248,95" fill="#9333ea" opacity="0.7"/>
                                <text x="250" y="75" font-family="Arial" font-size="10" fill="#9333ea" font-weight="bold">22мм</text>
                                
                                <!-- Нижний сгиб -->
                                <polygon points="245,190 275,190 272,205 248,205" fill="#9333ea" opacity="0.7"/>
                                <text x="250" y="185" font-family="Arial" font-size="10" fill="#9333ea" font-weight="bold">25мм</text>
                            </g>
                            
                            <line x1="225" y1="87" x2="245" y2="87" stroke="#9333ea" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8"/>
                            <line x1="225" y1="197" x2="245" y2="197" stroke="#9333ea" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8"/>
                        </g>
                        
                        <!-- Заголовок -->
                        <text x="200" y="25" font-family="Arial" font-size="16" font-weight="bold" fill="#9333ea" text-anchor="middle">Техника сгибания углов</text>
                    </svg>
                    
                    <div class="demo-caption">
                        <h4>Упрощенная техника углов</h4>
                        <p>Сгибайте только углы страниц на указанное количество миллиметров</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Generator Section -->
<section class="generator" id="generator">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Генератор паттернов</h2>
            <p class="section-subtitle">Введите текст или выберите готовый шаблон для создания инструкций по складыванию</p>
        </div>
        
        <div class="generator-content">
            <!-- Input Form -->
            <div class="generator-form glass-card">
                <div class="form-tabs">
                    <button class="tab-btn active" data-tab="text">
                        <i class="fas fa-font"></i>
                        Текст
                    </button>
                    <button class="tab-btn" data-tab="template">
                        <i class="fas fa-palette"></i>
                        Шаблоны
                    </button>
                </div>
                
                <!-- Text Input Tab -->
                <div class="tab-content active" id="text-tab">
                    <div class="form-group">
                        <label for="text-input" class="form-label">Введите текст (до 20 символов)</label>
                        <input type="text" id="text-input" class="form-input" placeholder="Например: LOVE" maxlength="20">
                        <div class="character-count">
                            <span id="char-count">0</span>/20
                        </div>
                    </div>
                    
                    <div class="text-preview">
                        <div class="preview-label">Предпросмотр:</div>
                        <div id="text-preview-display" class="preview-display">Введите текст</div>
                    </div>
                </div>
                
                <!-- Template Tab -->
                <div class="tab-content" id="template-tab">
                    <div class="template-categories">
                        <div class="template-category">
                            <h4 class="category-title">
                                <i class="fas fa-trademark"></i>
                                Логотипы
                            </h4>
                            <div class="template-grid" id="logos-grid">
                                <!-- Templates will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="template-category">
                            <h4 class="category-title">
                                <i class="fas fa-heart"></i>
                                Символы
                            </h4>
                            <div class="template-grid" id="symbols-grid">
                                <!-- Templates will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="template-category">
                            <h4 class="category-title">
                                <i class="fas fa-smile"></i>
                                Эмодзи
                            </h4>
                            <div class="template-grid" id="emojis-grid">
                                <!-- Templates will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Book Specifications -->
                <div class="book-specs">
                    <h4 class="specs-title">Параметры книги</h4>
                    <p class="specs-description">Измерьте вашу книгу линейкой для точного результата</p>
                    <div class="specs-grid">
                        <div class="form-group">
                            <label for="book-pages" class="form-label">Количество страниц</label>
                            <div class="input-with-slider">
                                <input type="range" id="book-pages-slider" min="200" max="1000" value="400" class="range-slider">
                                <input type="number" id="book-pages" class="form-input small" min="200" max="1000" value="400">
                            </div>
                            <small class="form-help">Посчитайте общее количество страниц в книге (рекомендуется 400-600)</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="book-height" class="form-label">Высота (мм)</label>
                            <div class="input-with-slider">
                                <input type="range" id="book-height-slider" min="150" max="300" value="200" class="range-slider">
                                <input type="number" id="book-height" class="form-input small" min="150" max="300" value="200">
                            </div>
                            <small class="form-help">Измерьте высоту книги линейкой (обычно 200-250мм)</small>
                        </div>
                        

                    </div>
                </div>
                
                <!-- Generate Button -->
                <button id="generate-btn" class="btn btn-primary btn-large">
                    <i class="fas fa-cogs"></i>
                    Генерировать паттерн
                </button>
            </div>
            
            <!-- Results -->
            <div id="results-section" class="results-section glass-card" style="display: none;">
                <div class="results-header">
                    <h3 class="results-title">
                        <i class="fas fa-check-circle"></i>
                        Паттерн готов!
                    </h3>
                    <div class="results-stats">
                        <div class="stat">
                            <span class="stat-value" id="total-folds">0</span>
                            <span class="stat-label">сгибов</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="pages-used">0</span>
                            <span class="stat-label">страниц</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="estimated-time">0</span>
                            <span class="stat-label">минут</span>
                        </div>
                    </div>
                </div>
                
                <div class="results-content">
                    <div class="pattern-visualization">
                        <h4>Визуализация согнутых страниц</h4>
                        <div id="pattern-visual" class="pattern-visual"></div>
                    </div>
                    
                    <div class="instructions-list">
                        <h4>Пошаговые инструкции</h4>
                        <div id="instructions-container" class="instructions-container"></div>
                    </div>
                </div>
                
                <div class="results-actions">
                    <button id="export-btn" class="btn btn-secondary">
                        <i class="fas fa-download"></i>
                        Скачать инструкции
                    </button>
                    <button id="new-pattern-btn" class="btn btn-outline">
                        <i class="fas fa-plus"></i>
                        Создать новый паттерн
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Gallery Section -->
<section class="gallery" id="gallery">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Галерея шаблонов</h2>
            <p class="section-subtitle">Готовые шаблоны для быстрого старта</p>
        </div>
        
        <div class="gallery-grid">
            <div class="gallery-item" data-template="heart">
                <div class="gallery-image">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="gallery-overlay">
                    <h4>Сердце</h4>
                    <p>Романтический символ</p>
                    <button class="btn btn-small">Использовать</button>
                </div>
            </div>
            
            <div class="gallery-item" data-template="star">
                <div class="gallery-image">
                    <i class="fas fa-star"></i>
                </div>
                <div class="gallery-overlay">
                    <h4>Звезда</h4>
                    <p>Классический символ</p>
                    <button class="btn btn-small">Использовать</button>
                </div>
            </div>
            
            <div class="gallery-item" data-template="apple">
                <div class="gallery-image">
                    <i class="fab fa-apple"></i>
                </div>
                <div class="gallery-overlay">
                    <h4>Apple</h4>
                    <p>Знаменитый логотип</p>
                    <button class="btn btn-small">Использовать</button>
                </div>
            </div>
            
            <div class="gallery-item" data-template="infinity">
                <div class="gallery-image">
                    <span style="font-size: 2em;">∞</span>
                </div>
                <div class="gallery-overlay">
                    <h4>Бесконечность</h4>
                    <p>Символ вечности</p>
                    <button class="btn btn-small">Использовать</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Instructions Section -->
<section class="instructions" id="instructions">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Как это работает</h2>
            <p class="section-subtitle">Простые шаги для создания книжного искусства</p>
        </div>
        
        <div class="instructions-grid">
            <div class="instruction-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Выберите книгу</h4>
                    <p>Возьмите книгу с твердой обложкой минимум 300-400 страниц. Качество бумаги должно позволять аккуратное складывание.</p>
                </div>
                <div class="step-icon">
                    <i class="fas fa-book"></i>
                </div>
            </div>
            
            <div class="instruction-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Генерируйте паттерн</h4>
                    <p>Введите желаемый текст или выберите готовый шаблон. Укажите параметры вашей книги для точного расчета.</p>
                </div>
                <div class="step-icon">
                    <i class="fas fa-cogs"></i>
                </div>
            </div>
            
            <div class="instruction-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Следуйте инструкциям</h4>
                    <p>Используйте линейку для точных измерений. Аккуратно складывайте страницы согласно сгенерированным инструкциям.</p>
                </div>
                <div class="step-icon">
                    <i class="fas fa-ruler"></i>
                </div>
            </div>
            
            <div class="instruction-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>Наслаждайтесь результатом</h4>
                    <p>После завершения всех сгибов вы получите уникальное произведение искусства из обычной книги!</p>
                </div>
                <div class="step-icon">
                    <i class="fas fa-trophy"></i>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
